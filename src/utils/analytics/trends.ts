/**Trend Analysis - Player and team trends*/ export class TrendAnalyzer { private statsHistory: Array<Record<string, number>> = []; recordStats(stats: Record<string, number>): void { this.statsHistory.push(stats); if (this.statsHistory.length > 100) { this.statsHistory.shift(); } } getTrend(stat: string): number { if (this.statsHistory.length < 2) return 0; const latest = this.statsHistory[this.statsHistory.length - 1][stat] || 0; const previous = this.statsHistory[0][stat] || 0; return (latest - previous) / (previous || 1); } isImproving(stat: string): boolean { return this.getTrend(stat) > 0; } getMovingAverage(stat: string, period: number): number { if (this.statsHistory.length < period) return 0; const recent = this.statsHistory.slice(-period); const sum = recent.reduce((acc, s) => acc + (s[stat] || 0), 0); return sum / period; } }
