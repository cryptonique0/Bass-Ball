/**Token Staking System*/ export interface StakingPosition { positionId: string; userId: string; amount: number; startDate: number; unlockDate: number; rewardRate: number; } export class StakingManager { private positions: Map<string, StakingPosition> = new Map(); stake(userId: string, amount: number, duration: number, rewardRate: number): string { const positionId = `stake_${Date.now()}`; const position: StakingPosition = { positionId, userId, amount, startDate: Date.now(), unlockDate: Date.now() + duration * 24 * 60 * 60 * 1000, rewardRate }; this.positions.set(positionId, position); return positionId; } calculateRewards(positionId: string): number { const pos = this.positions.get(positionId); if (!pos) return 0; const timePassed = (Date.now() - pos.startDate) / (1000 * 60 * 60 * 24); return pos.amount * pos.rewardRate * (timePassed / 365); } unstake(positionId: string): boolean { return this.positions.delete(positionId); } }
