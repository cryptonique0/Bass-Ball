/**Performance Monitoring - Track FPS, memory, latency*/ export interface PerformanceMetrics { fps: number; memory: number; latency: number; timestamp: number; } export class PerformanceMonitor { private metrics: PerformanceMetrics[] = []; private maxHistorySize: number = 1000; recordFrame(fps: number, memory: number, latency: number): void { this.metrics.push({ fps, memory, latency, timestamp: Date.now() }); if (this.metrics.length > this.maxHistorySize) { this.metrics.shift(); } } getAverageFPS(): number { if (this.metrics.length === 0) return 0; const sum = this.metrics.reduce((acc, m) => acc + m.fps, 0); return sum / this.metrics.length; } getAverageMemory(): number { if (this.metrics.length === 0) return 0; const sum = this.metrics.reduce((acc, m) => acc + m.memory, 0); return sum / this.metrics.length; } getAverageLatency(): number { if (this.metrics.length === 0) return 0; const sum = this.metrics.reduce((acc, m) => acc + m.latency, 0); return sum / this.metrics.length; } getMetricsHistory(seconds: number = 60): PerformanceMetrics[] { const cutoff = Date.now() - seconds * 1000; return this.metrics.filter((m) => m.timestamp > cutoff); } }
